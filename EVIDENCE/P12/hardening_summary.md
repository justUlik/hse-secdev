# P12 — Сводка по харднингу

## Dockerfile

**Было:**
- Контейнер запускался с настройками по умолчанию
- Базовый образ не был явно зафиксирован

**Стало:**
- Используется фиксированная версия базового образа (без `latest`)
- Приложение запускается от non-root пользователя
- Снижена поверхность атаки за счёт ограничения привилегий контейнера

---

## Kubernetes / IaC

**Было:**
- Отсутствовали ограничения по ресурсам
- Использовался стандартный securityContext
- Не были настроены проверки состояния контейнера

**Стало:**
- Включён запуск от non-root пользователя (`runAsNonRoot`, `runAsUser`)
- Запрещено повышение привилегий (`allowPrivilegeEscalation: false`)
- Отключены все Linux capabilities
- Включена файловая система только для чтения
- Заданы `requests` и `limits` для CPU и памяти
- Добавлены `livenessProbe` и `readinessProbe`