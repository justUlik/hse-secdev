| ID     | Название                          | Описание                                                                 | Метрика/Порог                         | Проверка (чем/где)                    | Компонент | Приоритет |
|--------|-----------------------------------|--------------------------------------------------------------------------|---------------------------------------|----------------------------------------|-----------|-----------|
| NFR-01 | Безопасное хранение паролей       | Хэширование паролей пользователей только алгоритмом Argon2id             | t=3, m=256MB, p=1                     | Конфигурация + unit-тесты              | auth      | High      |
| NFR-02 | Ограничение частоты запросов      | Ограничить POST/PUT/DELETE для предотвращения злоупотреблений            | ≤ 30 запросов в минуту на IP          | Нагрузочный тест + e2e                 | api       | High      |
| NFR-03 | Валидация входных данных          | Проверка длины и формата полей в рецептах                                | title ≤ 120, description ≤ 2000       | Контракт-тесты (422 на ошибках)        | api       | High      |
| NFR-04 | Формат ошибок RFC7807             | Единый формат ошибок, маскирование PII и добавление correlation_id       | 100% эндпоинтов                       | Контракт-тесты + e2e                   | api       | Medium    |
| NFR-05 | CORS-политика                     | Разрешены только доверенные домены                                       | Только origin из allowlist            | Интеграционные тесты preflight         | api       | High      |
| NFR-06 | Уязвимости зависимостей           | Устранение High/Critical уязвимостей в срок                              | ≤ 7 дней                              | CI-отчёт SCA/SBOM                      | build     | High      |
| NFR-07 | Ротация секретов                  | Автоматическая ротация и хранение секретов только в Secret Store         | Раз в 30 дней                         | Vault/KMS политика + журнал            | platform  | Medium    |
| NFR-08 | Маскирование данных в логах       | Исключить тела POST/PUT запросов и скрывать PII                          | 0 тел в логах, 100% PII скрыты        | Анализ логов + unit-тесты              | api       | Medium    |
| NFR-09 | Производительность GET /recipes   | Среднее время отклика для списка рецептов                                | p95 ≤ 150 мс при 50 RPS               | Нагрузочный тест (k6/Locust)           | api       | Medium    |
| NFR-10 | HTTPS и HSTS                      | Все соединения только по HTTPS; включен HSTS                             | HSTS max-age ≥ 180 дней               | Конфиг Nginx + curl проверка           | platform  | Medium    |
